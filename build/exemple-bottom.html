<div class="out">
  <div id="viewport" style="perspective: 400px;">
    <div id="world">
      <div class="cloudBase-1" style="transform: translateZ(165px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(95.4px) translateY(0.4px) translateZ(-6.1081px) rotateY(0deg) rotateX(0deg) rotateZ(571.693deg) scale(0.84623);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(38.8px) translateY(10.4px) translateZ(48.7791px) rotateY(0deg) rotateX(0deg) rotateZ(703.33deg) scale(0.467144);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(1.6px) translateY(6.8px) translateZ(12.0642px) rotateY(0deg) rotateX(0deg) rotateZ(31.133deg) scale(0.46754);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(129.2px) translateY(19.4px) translateZ(-9.28396px) rotateY(0deg) rotateX(0deg) rotateZ(688.655deg) scale(0.595153);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(26.6px) translateY(10.2px) translateZ(86.6469px) rotateY(0deg) rotateX(0deg) rotateZ(681.762deg) scale(0.530436);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(100px) translateY(18.2px) translateZ(80.1968px) rotateY(0deg) rotateX(0deg) rotateZ(440.823deg) scale(0.628645);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(1.8px) translateY(-5.8px) translateZ(-79.9301px) rotateY(0deg) rotateX(0deg) rotateZ(156.922deg) scale(0.610821);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(63.2px) translateY(13.4px) translateZ(1.43354px) rotateY(0deg) rotateX(0deg) rotateZ(716.301deg) scale(0.457469);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(130.4px) translateY(-18.6px) translateZ(-75.0025px) rotateY(0deg) rotateX(0deg) rotateZ(591.24deg) scale(0.797066);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(117.2px) translateY(-7px) translateZ(-4.89797px) rotateY(0deg) rotateX(0deg) rotateZ(528.854deg) scale(0.751319);"></div>
      <div class="cloudBase-2" style="transform: translateZ(158px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(60px) translateY(16.8px) translateZ(-79.659px) rotateY(0deg) rotateX(0deg) rotateZ(446.631deg) scale(0.752394);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(28.4px) translateY(20px) translateZ(-85.8547px) rotateY(0deg) rotateX(0deg) rotateZ(530.471deg) scale(0.405596);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(44px) translateY(-7.8px) translateZ(23.3972px) rotateY(0deg) rotateX(0deg) rotateZ(156.742deg) scale(0.546205);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(33.6px) translateY(12.6px) translateZ(-68.9267px) rotateY(0deg) rotateX(0deg) rotateZ(194.284deg) scale(0.815897);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(67.4px) translateY(-14.6px) translateZ(81.1802px) rotateY(0deg) rotateX(0deg) rotateZ(677.634deg) scale(0.802924);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(60.6px) translateY(-17.2px) translateZ(48.9751px) rotateY(0deg) rotateX(0deg) rotateZ(643.761deg) scale(0.290046);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(56.8px) translateY(-7.8px) translateZ(-15.0302px) rotateY(0deg) rotateX(0deg) rotateZ(343.128deg) scale(0.72411);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(114.4px) translateY(19.2px) translateZ(74.6243px) rotateY(0deg) rotateX(0deg) rotateZ(283.561deg) scale(0.346927);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(92.6px) translateY(-19.2px) translateZ(-75.6694px) rotateY(0deg) rotateX(0deg) rotateZ(615.592deg) scale(0.315255);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(91.6px) translateY(-7px) translateZ(92.8233px) rotateY(0deg) rotateX(0deg) rotateZ(799.158deg) scale(0.935198);"></div>
      <div class="cloudBase-3" style="transform: translateZ(150px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(94px) translateY(-15.4px) translateZ(-98.7528px) rotateY(0deg) rotateX(0deg) rotateZ(390.633deg) scale(0.80381);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(93.6px) translateY(-17.6px) translateZ(-61.4273px) rotateY(0deg) rotateX(0deg) rotateZ(716.851deg) scale(0.779566);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(46.2px) translateY(4.6px) translateZ(-72.0754px) rotateY(0deg) rotateX(0deg) rotateZ(791.633deg) scale(0.812604);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(52.2px) translateY(-1.8px) translateZ(-75.2807px) rotateY(0deg) rotateX(0deg) rotateZ(215.168deg) scale(0.494895);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(14.4px) translateY(-8px) translateZ(3.22835px) rotateY(0deg) rotateX(0deg) rotateZ(326.157deg) scale(0.804022);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(5.6px) translateY(-8.2px) translateZ(67.1417px) rotateY(0deg) rotateX(0deg) rotateZ(566.748deg) scale(0.871931);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(18.8px) translateY(-8.2px) translateZ(14.8217px) rotateY(0deg) rotateX(0deg) rotateZ(607.034deg) scale(0.928039);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(70.2px) translateY(14.6px) translateZ(44.0044px) rotateY(0deg) rotateX(0deg) rotateZ(692.408deg) scale(0.395066);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(59.4px) translateY(17.2px) translateZ(29.1313px) rotateY(0deg) rotateX(0deg) rotateZ(532.823deg) scale(0.734151);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(90.8px) translateY(16.6px) translateZ(-52.052px) rotateY(0deg) rotateX(0deg) rotateZ(167.165deg) scale(0.976505);"></div>
      <div class="cloudBase-4" style="transform: translateZ(179px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(90.2px) translateY(-5px) translateZ(-75.6277px) rotateY(0deg) rotateX(0deg) rotateZ(338.956deg) scale(0.333552);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(117.6px) translateY(-11.6px) translateZ(11.5937px) rotateY(0deg) rotateX(0deg) rotateZ(629.289deg) scale(0.60371);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(40.2px) translateY(-16.4px) translateZ(-21.8072px) rotateY(0deg) rotateX(0deg) rotateZ(286.538deg) scale(0.917088);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(1.8px) translateY(3.4px) translateZ(62.8908px) rotateY(0deg) rotateX(0deg) rotateZ(922.24deg) scale(0.562698);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(92.2px) translateY(-4.8px) translateZ(17.1384px) rotateY(0deg) rotateX(0deg) rotateZ(235.42deg) scale(0.651801);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(48.2px) translateY(8.8px) translateZ(-16.7236px) rotateY(0deg) rotateX(0deg) rotateZ(584.939deg) scale(0.587269);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(44.8px) translateY(-12.4px) translateZ(-60.9967px) rotateY(0deg) rotateX(0deg) rotateZ(700.679deg) scale(0.541165);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(42.6px) translateY(1.8px) translateZ(-98.5093px) rotateY(0deg) rotateX(0deg) rotateZ(318.182deg) scale(0.316421);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(5.6px) translateY(-9.2px) translateZ(1.02171px) rotateY(0deg) rotateX(0deg) rotateZ(505.509deg) scale(0.663898);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(25.8px) translateY(10px) translateZ(-1.41054px) rotateY(0deg) rotateX(0deg) rotateZ(405.027deg) scale(0.502371);"></div>
      <div class="cloudBase-5" style="transform: translateZ(174px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(53px) translateY(4.6px) translateZ(-15.0115px) rotateY(0deg) rotateX(0deg) rotateZ(712.995deg) scale(0.640116);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(3.8px) translateY(11.2px) translateZ(-51.016px) rotateY(0deg) rotateX(0deg) rotateZ(665.126deg) scale(0.653063);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(94.6px) translateY(14.8px) translateZ(51.7244px) rotateY(0deg) rotateX(0deg) rotateZ(630.337deg) scale(0.61654);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(77.8px) translateY(-4.4px) translateZ(89.7485px) rotateY(0deg) rotateX(0deg) rotateZ(304.11deg) scale(0.877109);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(24.4px) translateY(16.4px) translateZ(35.9135px) rotateY(0deg) rotateX(0deg) rotateZ(444.158deg) scale(0.532608);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(104.2px) translateY(17px) translateZ(12.4942px) rotateY(0deg) rotateX(0deg) rotateZ(576.169deg) scale(0.810079);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(61.4px) translateY(16.2px) translateZ(85.3776px) rotateY(0deg) rotateX(0deg) rotateZ(388.228deg) scale(0.46522);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(7.8px) translateY(5.4px) translateZ(-76.763px) rotateY(0deg) rotateX(0deg) rotateZ(669.057deg) scale(0.95222);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(28.8px) translateY(19.8px) translateZ(84.0882px) rotateY(0deg) rotateX(0deg) rotateZ(696.477deg) scale(0.58906);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(110.6px) translateY(19.2px) translateZ(98.1484px) rotateY(0deg) rotateX(0deg) rotateZ(560.714deg) scale(0.960977);"></div>
      <div class="cloudBase-6" style="transform: translateZ(169px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(42.4px) translateY(9.6px) translateZ(35.1px) rotateY(0deg) rotateX(0deg) rotateZ(467.603deg) scale(0.990338);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(102.4px) translateY(8.6px) translateZ(-56.8758px) rotateY(0deg) rotateX(0deg) rotateZ(612.4deg) scale(0.339743);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(101.4px) translateY(19.4px) translateZ(7.53337px) rotateY(0deg) rotateX(0deg) rotateZ(285.631deg) scale(0.867916);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(41.4px) translateY(11.2px) translateZ(53.9212px) rotateY(0deg) rotateX(0deg) rotateZ(203.695deg) scale(0.859708);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(5.8px) translateY(9.4px) translateZ(21.8639px) rotateY(0deg) rotateX(0deg) rotateZ(395.62deg) scale(0.369629);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(100.2px) translateY(-16.6px) translateZ(-63.0363px) rotateY(0deg) rotateX(0deg) rotateZ(691.496deg) scale(0.947921);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(10.2px) translateY(-5px) translateZ(64.374px) rotateY(0deg) rotateX(0deg) rotateZ(410.319deg) scale(0.399869);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(135.6px) translateY(-17.8px) translateZ(58.754px) rotateY(0deg) rotateX(0deg) rotateZ(241.072deg) scale(0.669109);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(22px) translateY(-1.8px) translateZ(-14.4413px) rotateY(0deg) rotateX(0deg) rotateZ(370.56deg) scale(0.56649);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(39.6px) translateY(12.8px) translateZ(52.8143px) rotateY(0deg) rotateX(0deg) rotateZ(183.142deg) scale(0.620552);"></div>
      <div class="cloudBase-7" style="transform: translateZ(184px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(38.4px) translateY(13.4px) translateZ(62.1349px) rotateY(0deg) rotateX(0deg) rotateZ(717.514deg) scale(0.413543);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(64.2px) translateY(-13px) translateZ(-45.3481px) rotateY(0deg) rotateX(0deg) rotateZ(852.28deg) scale(0.884345);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(55.2px) translateY(10.8px) translateZ(-26.5632px) rotateY(0deg) rotateX(0deg) rotateZ(113.617deg) scale(0.953958);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(70px) translateY(11.8px) translateZ(-71.504px) rotateY(0deg) rotateX(0deg) rotateZ(766.009deg) scale(0.74332);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(92.8px) translateY(-0.6px) translateZ(-53.853px) rotateY(0deg) rotateX(0deg) rotateZ(188.72deg) scale(0.433781);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(102.8px) translateY(-7.4px) translateZ(-19.8777px) rotateY(0deg) rotateX(0deg) rotateZ(712.033deg) scale(0.686908);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(41px) translateY(15.4px) translateZ(-22.4429px) rotateY(0deg) rotateX(0deg) rotateZ(791.063deg) scale(0.350928);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(57.2px) translateY(-16.2px) translateZ(-65.4314px) rotateY(0deg) rotateX(0deg) rotateZ(250.954deg) scale(0.362682);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(41.6px) translateY(-4px) translateZ(42.2583px) rotateY(0deg) rotateX(0deg) rotateZ(302.773deg) scale(0.799875);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(26.4px) translateY(18.4px) translateZ(61.4363px) rotateY(0deg) rotateX(0deg) rotateZ(479.39deg) scale(0.437862);"></div>
      <div class="cloudBase-8" style="transform: translateZ(183px);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(60.4px) translateY(-9.2px) translateZ(21.6271px) rotateY(0deg) rotateX(0deg) rotateZ(662.442deg) scale(0.973651);"><img src="./img/cloud.png" class="cloudLayer"
          style="opacity: 0.8; transform: translateX(94.8px) translateY(-2.2px) translateZ(-48.2578px) rotateY(0deg) rotateX(0deg) rotateZ(710.818deg) scale(0.997452);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(113.2px) translateY(8.6px) translateZ(-72.1726px) rotateY(0deg) rotateX(0deg) rotateZ(658.282deg) scale(0.427705);">
        <img
          src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(127.6px) translateY(5.2px) translateZ(41.177px) rotateY(0deg) rotateX(0deg) rotateZ(803.249deg) scale(0.545476);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(90.6px) translateY(-7.2px) translateZ(-73.2343px) rotateY(0deg) rotateX(0deg) rotateZ(567.123deg) scale(0.607331);"><img src="./img/cloud.png" class="cloudLayer"
            style="opacity: 0.8; transform: translateX(44.4px) translateY(2.8px) translateZ(-60.1529px) rotateY(0deg) rotateX(0deg) rotateZ(261.763deg) scale(0.759918);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(17.6px) translateY(4.8px) translateZ(-78.9469px) rotateY(0deg) rotateX(0deg) rotateZ(204.359deg) scale(0.326935);">
          <img
            src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(45.6px) translateY(0.6px) translateZ(8.48013px) rotateY(0deg) rotateX(0deg) rotateZ(566.715deg) scale(0.795317);"><img src="./img/cloud.png" class="cloudLayer" style="opacity: 0.8; transform: translateX(99.2px) translateY(-5.6px) translateZ(52.7678px) rotateY(0deg) rotateX(0deg) rotateZ(599.689deg) scale(0.930782);"><img src="./img/cloud.png" class="cloudLayer"
              style="opacity: 0.8; transform: translateX(54.2px) translateY(12px) translateZ(31.6715px) rotateY(0deg) rotateX(0deg) rotateZ(782.02deg) scale(0.677647);"></div>
    </div>
  </div>
  <script>
    (function()
    {
      var lastTime = 0;
      var vendors = ['ms', 'moz', 'webkit', 'o'];
      for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x)
      {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
        window.cancelRequestAnimationFrame = window[vendors[x] + 'CancelRequestAnimationFrame'];
      }
      if (!window.requestAnimationFrame) window.requestAnimationFrame = function(callback, element)
      {
        var currTime = new Date().getTime();
        var timeToCall = Math.max(0, 16 - (currTime - lastTime));
        var id = window.setTimeout(function()
        {
          callback(currTime + timeToCall);
        }, timeToCall);
        lastTime = currTime + timeToCall;
        return id;
      };
      if (!window.cancelAnimationFrame) window.cancelAnimationFrame = function(id)
      {
        clearTimeout(id);
      };
    }())

    function randomInteger(min, max)
    {
      var rand = min + Math.random() * (max + 1 - min);
      rand = Math.floor(rand);
      return rand;
    }
    var layers = [],
      objects = [],
      world = document.getElementById('world'),
      viewport = document.getElementById('viewport'),
      d = 0,
      p = 400,
      worldXAngle = 0,
      worldYAngle = 0;
    viewport.style.webkitPerspective = p;
    viewport.style.MozPerspective = p;
    viewport.style.oPerspective = p;
    var number = 1;
    generate();

    function createCloud()
    {
      var div = document.createElement('div');
      div.className = 'cloudBase-' + number + '';
      number++;
      var x = 256 - (Math.random() * 512);
      var y = 256 - (Math.random() * 512);
      var z = randomInteger(150, 200);
      console.log(randomInteger(-50, 200), z);
      var t = 'translateZ( ' + z + 'px )';
      div.style.webkitTransform = t;
      div.style.MozTransform = t;
      div.style.oTransform = t;
      world.appendChild(div);
      let cloudsRandom = Math.round(Math.random() * 5);
      console.log(cloudsRandom + 5);
      for (var j = 0; j < 10; j++)
      {
        var cloud = document.createElement('img');
        cloud.style.opacity = 0;
        var r = Math.random();
        var src = './img/cloud.png';
        (function(img)
        {
          img.addEventListener('load', function()
          {
            img.style.opacity = .8;
          })
        })(cloud);
        cloud.setAttribute('src', src);
        cloud.className = 'cloudLayer';
        var x = randomInteger(0, 700);
        var y = randomInteger(-100, 100);
        var z = 100 - (Math.random() * 200);
        var a = Math.random() * 360;
        var s = 0.25 + Math.random() * (1 - 0.25);
        x *= .2;
        y *= .2;
        console.log(s);
        cloud.data = {
          x: x,
          y: y,
          z: z,
          a: a,
          s: s,
          speed: .1 * Math.random()
        };
        var t = 'translateX( ' + x + 'px ) translateY( ' + y + 'px ) translateZ( ' + z + 'px ) rotateZ( ' + a + 'deg )';
        cloud.style.webkitTransform = t;
        cloud.style.MozTransform = t;
        cloud.style.oTransform = t;
        div.appendChild(cloud);
        layers.push(cloud);
      }
      return div;
    }

    function generate()
    {
      objects = [];
      if (world.hasChildNodes())
      {
        while (world.childNodes.length >= 1)
        {
          world.removeChild(world.firstChild);
        }
      }
      for (var j = 0; j < 8; j++)
      {
        objects.push(createCloud());
      }
    }

    function update()
    {
      for (var j = 0; j < layers.length; j++)
      {
        var layer = layers[j];
        layer.data.a += layer.data.speed;
        var t = 'translateX( ' + layer.data.x + 'px ) translateY( ' + layer.data.y + 'px ) translateZ( ' + layer.data.z + 'px ) rotateY( ' + (-worldYAngle) + 'deg ) rotateX( ' + (-worldXAngle) + 'deg ) rotateZ( ' + layer.data.a + 'deg ) scale( ' + layer.data.s + ')';
        layer.style.webkitTransform = t;
        layer.style.MozTransform = t;
        layer.style.oTransform = t;
      }
      requestAnimationFrame(update);
    }
    update();

  </script>
</div>
